{% extends 'base.twig' %}

{% block head %}
    {% if env is not same as('development') -%}
    <link href="{{ client_asset('/css/chunk-vendors.css') }}" rel="preload" as="style">
    <link href="{{ client_asset('/css/default.css') }}" rel="preload" as="style">
    {% endif -%}

    <link href="{{ client_asset('/js/chunk-vendors.js') }}" rel="preload" as="script">
    <link href="{{ client_asset('/js/default.js') }}" rel="preload" as="script">

    {% if env is not same as('development') -%}
    <link href="{{ client_asset('/css/chunk-vendors.css') }}" rel="stylesheet">
    <link href="{{ client_asset('/css/default.css') }}" rel="stylesheet">
    {% endif -%}
{% endblock %}

{% block body %}
    <noscript><strong>{{ __('enable-javascript-message') }}</strong></noscript>
    <div id="app">
        {{ include('blocks/loading.twig') }}
    </div>
    {% if flashMessages is not empty -%}
    <script type="text/javascript">
        //<![CDATA[
        var __SERVER_MESSAGES__ = {{
            flashMessages|json_encode(constant('Loxya\\Config\\Config::JSON_OPTIONS'))|raw
        }};
        //]]>
    </script>
    {% endif -%}
    <script type="text/javascript">
        //<![CDATA[
        var __SERVER_CONFIG__ = {{
            serverConfig|json_encode(constant('Loxya\\Config\\Config::JSON_OPTIONS'))|raw
        }};
        //]]>
    </script>
    <script src="{{ client_asset('/js/chunk-vendors.js') }}"></script>
    <script src="{{ client_asset('/js/default.js') }}"></script>
{% endblock %}