import { dataFactory } from './@utils';
import pick from 'lodash/pick';
import omit from 'lodash/omit';
import technicians from './technicians';
import beneficiaries from './beneficiaries';
import materials from './materials';
import estimates from './estimates';
import invoices from './invoices';
import users from './users';
import { BookingEntity } from '@/stores/api/bookings';

const data = [
    {
        id: 1,
        reference: null,
        title: `Premier événement`,
        description: null,
        location: `Gap`,
        color: null,
        mobilization_period: {
            start: '2018-12-16 15:45:00',
            end: '2018-12-19 00:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2018-12-17 10:00:00',
            end: '2018-12-18 18:00:00',
            isFullDays: false,
        },
        materials_count: 3,
        currency: 'EUR',
        total_without_global_discount: '422.54',
        global_discount_rate: '10.0000',
        total_global_discount: '42.25',
        total_without_taxes: '380.29',
        total_taxes: [
            {
                name: `T.V.A.`,
                is_rate: true,
                value: '20.000',
                total: '76.06',
            },
        ],
        total_with_taxes: '456.35',
        total_replacement: '19408.90',
        is_confirmed: false,
        is_archived: false,
        is_billable: true,
        is_departure_inventory_done: true,
        departure_inventory_datetime: '2018-12-16 15:35:00',
        departure_inventory_author: users.default(1),
        is_return_inventory_started: true,
        is_return_inventory_done: true,
        return_inventory_datetime: null,
        return_inventory_author: null,
        has_missing_materials: null,
        has_deleted_materials: false,
        has_not_returned_materials: false,
        categories: [1, 2],
        parks: [1],
        technicians: [
            {
                id: 1,
                event_id: 1,
                technician_id: 1,
                period: {
                    start: '2018-12-17 09:00:00',
                    end: '2018-12-18 22:00:00',
                    isFullDays: false,
                },
                position: 'Régisseur',
                technician: () => technicians.default(1),
            },
            {
                id: 2,
                event_id: 1,
                technician_id: 2,
                period: {
                    start: '2018-12-18 14:00:00',
                    end: '2018-12-18 18:00:00',
                    isFullDays: false,
                },
                position: 'Technicien plateau',
                technician: () => technicians.default(2),
            },
        ],
        beneficiaries: [
            beneficiaries.default(1),
        ],
        materials: [
            {
                id: 1,
                name: `Console Yamaha CL3`,
                reference: 'CL3',
                category_id: 1,
                quantity: 1,
                unit_price: '200.00',
                degressive_rate: '1.75',
                unit_price_period: '350.00',
                total_without_discount: '350.00',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '350.00',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '19000.00',
                total_replacement_price: '19000.00',
                quantity_departed: 1,
                quantity_returned: 1,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(1),
                    degressive_rate: '1.00',
                    rental_price_period: '300.00',
                }),
            },
            {
                id: 2,
                name: `DBX PA2`,
                reference: 'DBXPA2',
                category_id: 1,
                quantity: 1,
                unit_price: '25.50',
                degressive_rate: '1.75',
                unit_price_period: '44.63',
                total_without_discount: '44.63',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '44.63',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '349.90',
                total_replacement_price: '349.90',
                quantity_departed: 1,
                quantity_returned: 1,
                quantity_returned_broken: 0,
                departure_comment: `Le matériel n'est pas en très bon état.`,
                material: () => ({
                    ...materials.withContextExcerpt(2),
                    degressive_rate: '2.00',
                    rental_price_period: '51.00',
                }),
            },
            {
                id: 4,
                name: `Showtec SDS-6`,
                reference: 'SDS-6-01',
                category_id: 2,
                quantity: 1,
                unit_price: '15.95',
                degressive_rate: '1.75',
                unit_price_period: '27.91',
                total_without_discount: '27.91',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '27.91',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '59.00',
                total_replacement_price: '59.00',
                quantity_departed: 1,
                quantity_returned: 1,
                quantity_returned_broken: 1,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(4),
                    degressive_rate: '1.75',
                    rental_price_period: '27.91',
                }),
            },
        ],
        extras: [],
        invoices: [
            invoices.default(1),
        ],
        estimates: [
            estimates.default(2),
            estimates.default(1),
        ],
        note: null,
        author: users.default(1),
        created_at: '2018-12-01 12:50:45',
        updated_at: '2018-12-05 08:31:21',
    },
    {
        id: 2,
        reference: null,
        title: 'Second événement',
        description: null,
        location: 'Lyon',
        color: '#ffba49',
        mobilization_period: {
            start: '2018-12-18 00:00:00',
            end: '2018-12-20 00:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2018-12-18',
            end: '2018-12-19',
            isFullDays: true,
        },
        materials_count: 5,
        currency: 'EUR',
        total_without_global_discount: '-909.68',
        global_discount_rate: '0.0000',
        total_global_discount: '0.00',
        total_without_taxes: '-909.68',
        total_taxes: [
            {
                name: `T.V.A.`,
                is_rate: true,
                value: '20.000',
                total: '376.06',
            },
            {
                name: `Taxes diverses`,
                is_rate: false,
                value: '10.00',
                total: '10.00',
            },
        ],
        total_with_taxes: '-523.62',
        total_replacement: '58899.80',
        is_archived: false,
        is_billable: true,
        is_confirmed: false,
        has_missing_materials: null,
        has_deleted_materials: false,
        has_not_returned_materials: true,
        is_departure_inventory_done: false,
        departure_inventory_datetime: null,
        departure_inventory_author: null,
        is_return_inventory_started: true,
        is_return_inventory_done: true,
        return_inventory_datetime: '2018-12-20 14:30:00',
        return_inventory_author: users.default(2),
        categories: [1],
        parks: [1],
        materials: [
            {
                id: 2,
                name: `Processeur DBX PA2`,
                reference: 'DBXPA2',
                category_id: 1,
                quantity: 2,
                unit_price: '25.50',
                degressive_rate: '1.75',
                unit_price_period: '44.63',
                total_without_discount: '89.26',
                discount_rate: '10.0000',
                total_discount: '8.93',
                total_without_taxes: '80.32',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '349.90',
                total_replacement_price: '699.80',
                quantity_departed: 2,
                quantity_returned: 2,
                quantity_returned_broken: 0,
                departure_comment: `Validé avec le client.`,
                material: () => ({
                    ...materials.withContextExcerpt(2),
                    degressive_rate: '2.00',
                    rental_price_period: '51.00',
                }),
            },
            {
                id: 1,
                name: `Yamaha CL3`,
                reference: 'CL-3',
                category_id: 1,
                quantity: 3,
                unit_price: '300.00',
                degressive_rate: '2.00',
                unit_price_period: '600.00',
                total_without_discount: '1800.00',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '1800.00',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '19400.00',
                total_replacement_price: '58200.00',
                quantity_departed: 2,
                quantity_returned: 2,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(1),
                    degressive_rate: '1.00',
                    rental_price_period: '300.00',
                }),
            },
        ],
        extras: [
            {
                id: 1,
                description: 'Services additionnels',
                quantity: 2,
                unit_price: '155.00',
                total_without_taxes: '310.00',
                tax_id: 2,
                taxes: [
                    {
                        name: `Taxes diverses`,
                        is_rate: false,
                        value: '10.00',
                    },
                ],
            },
            {
                id: 2,
                description: 'Avoir facture du 17/12/2018',
                quantity: 1,
                unit_price: '-3100.00',
                total_without_taxes: '-3100.00',
                tax_id: null,
                taxes: [],
            },
        ],
        beneficiaries: [
            beneficiaries.default(3),
        ],
        technicians: [],
        estimates: [],
        invoices: [],
        note: `Il faudra envoyer le matériel sur Lyon avant l'avant-veille.`,
        author: users.default(1),
        created_at: '2018-12-16 12:50:45',
        updated_at: null,
    },
    {
        id: 3,
        reference: null,
        title: 'Avant-premier événement',
        description: null,
        location: 'Brousse',
        color: null,
        mobilization_period: {
            start: '2018-12-15 08:30:00',
            end: '2018-12-16 15:45:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2018-12-15 09:00:00',
            end: '2018-12-17 00:00:00',
            isFullDays: false,
        },
        materials_count: 23,
        currency: 'EUR',
        total_replacement: '1210.99',
        has_missing_materials: null,
        has_deleted_materials: false,
        has_not_returned_materials: null,
        is_archived: true,
        is_billable: false,
        is_confirmed: false,
        is_departure_inventory_done: true,
        departure_inventory_datetime: '2018-12-15 08:17:00',
        departure_inventory_author: users.default(1),
        is_return_inventory_started: true,
        is_return_inventory_done: true,
        return_inventory_datetime: '2018-12-16 15:42:00',
        return_inventory_author: users.default(1),
        categories: [1, 2],
        parks: [1],
        materials: [
            {
                id: 5,
                name: `Câble XLR 10m`,
                reference: 'XLR10',
                category_id: 2,
                quantity: 12,
                unit_replacement_price: null,
                total_replacement_price: null,
                quantity_departed: 12,
                quantity_returned: 0,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(5),
                    degressive_rate: '1.00',
                    rental_price_period: '0.50',
                }),
            },
            {
                id: 3,
                name: `PAR64 LED`,
                reference: 'PAR64LED',
                category_id: 2,
                quantity: 10,
                unit_replacement_price: '89.00',
                total_replacement_price: '890.00',
                quantity_departed: 10,
                quantity_returned: 0,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(3),
                    degressive_rate: '1.75',
                    rental_price_period: '6.13',
                }),
            },
            {
                id: 2,
                name: `Processeur DBX PA2`,
                reference: 'DBXPA2',
                category_id: 1,
                quantity: 1,
                unit_replacement_price: '320.99',
                total_replacement_price: '320.99',
                quantity_departed: 1,
                quantity_returned: 0,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(2),
                    degressive_rate: '2.00',
                    rental_price_period: '51.00',
                }),
            },
        ],
        beneficiaries: [],
        technicians: [],
        author: users.default(1),
        note: null,
        created_at: '2018-12-14 12:20:00',
        updated_at: '2018-12-14 12:30:00',
    },
    {
        id: 4,
        reference: null,
        title: 'Concert X',
        description: null,
        location: 'Moon',
        color: '#ef5b5b',
        mobilization_period: {
            start: '2019-03-01 00:00:00',
            end: '2019-04-11 00:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2019-03-01',
            end: '2019-04-10',
            isFullDays: true,
        },
        materials_count: 6,
        currency: 'EUR',
        total_replacement: '115499.98',
        is_archived: false,
        is_billable: false,
        is_confirmed: false,
        is_departure_inventory_done: false,
        departure_inventory_datetime: null,
        departure_inventory_author: null,
        is_return_inventory_started: true,
        is_return_inventory_done: false,
        return_inventory_datetime: null,
        return_inventory_author: null,
        has_missing_materials: true,
        has_deleted_materials: false,
        has_not_returned_materials: null,
        categories: [1, 3],
        parks: [1, 2],
        materials: [
            {
                id: 6,
                name: `Behringer X Air XR18`,
                reference: 'XR18',
                category_id: 1,
                quantity: 2,
                unit_replacement_price: '49.99',
                total_replacement_price: '99.98',
                quantity_departed: 1,
                quantity_returned: 1,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(6),
                    degressive_rate: '30.93',
                    rental_price_period: '1546.19',
                }),
            },
            {
                id: 1,
                name: `Console Yamaha CL3`,
                reference: 'CL',
                category_id: 1,
                quantity: 1,
                unit_replacement_price: '19400.00',
                total_replacement_price: '19400.00',
                quantity_departed: null,
                quantity_returned: 0,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(1),
                    degressive_rate: '1.00',
                    rental_price_period: '300.00',
                }),
            },
            {
                id: 7,
                name: `Voiture 1`,
                reference: 'V-1',
                category_id: 3,
                quantity: 3,
                unit_replacement_price: '32000.00',
                total_replacement_price: '96000.00',
                quantity_departed: null,
                quantity_returned: 0,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(7),
                    degressive_rate: '30.75',
                    rental_price_period: '9225.00',
                }),
            },
        ],
        beneficiaries: [],
        technicians: [],
        note: `Penser à contacter Cap Canaveral fin janvier pour booker le pas de tir.`,
        author: users.default(1),
        created_at: '2019-01-01 20:12:00',
        updated_at: null,
    },
    {
        id: 5,
        reference: null,
        title: `Kermesse de l'école des trois cailloux`,
        description: null,
        location: 'Saint-Jean-la-Forêt',
        color: null,
        mobilization_period: {
            start: '2020-01-01 00:00:00',
            end: '2020-01-02 00:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2020-01-01',
            end: '2020-01-01',
            isFullDays: true,
        },
        materials_count: 2,
        currency: 'EUR',
        total_replacement: '17000.00',
        is_archived: false,
        is_billable: false,
        is_confirmed: false,
        is_departure_inventory_done: false,
        departure_inventory_datetime: null,
        departure_inventory_author: null,
        is_return_inventory_started: false,
        is_return_inventory_done: false,
        return_inventory_datetime: null,
        return_inventory_author: null,
        has_missing_materials: true,
        has_deleted_materials: false,
        has_not_returned_materials: null,
        categories: [4],
        parks: [1],
        materials: [
            {
                id: 8,
                name: `Décor Thème Forêt`,
                reference: 'Decor-Forest',
                category_id: 4,
                quantity: 2,
                unit_replacement_price: '8500.00',
                total_replacement_price: '17000.00',
                quantity_departed: 1,
                quantity_returned: null,
                quantity_returned_broken: null,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(8),
                    degressive_rate: '1.00',
                    rental_price_period: '1500.00',
                }),
            },
        ],
        beneficiaries: [
            beneficiaries.default(1),
        ],
        technicians: [],
        note: null,
        author: users.default(1),
        created_at: '2019-12-25 14:59:40',
        updated_at: null,
    },
    {
        id: 6,
        reference: null,
        title: 'Un événement sans inspiration',
        description: null,
        location: 'La Clusaz',
        color: '#ef5b5b',
        mobilization_period: {
            start: '2019-03-15 00:00:00',
            end: '2019-04-02 00:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2019-03-15',
            end: '2019-04-01',
            isFullDays: true,
        },
        materials_count: 0,
        currency: 'EUR',
        total_replacement: '0.00',
        is_archived: false,
        is_billable: false,
        is_confirmed: false,
        is_departure_inventory_done: false,
        departure_inventory_datetime: null,
        departure_inventory_author: null,
        is_return_inventory_started: false,
        is_return_inventory_done: false,
        return_inventory_datetime: null,
        return_inventory_author: null,
        has_missing_materials: false,
        has_deleted_materials: false,
        has_not_returned_materials: null,
        categories: [],
        parks: [],
        materials: [],
        beneficiaries: [],
        technicians: [],
        note: null,
        author: users.default(1),
        created_at: '2019-02-01 12:00:00',
        updated_at: '2019-02-01 12:05:00',
    },
    {
        id: 7,
        reference: null,
        title: 'Médiévales de Machin-le-chateau 2023',
        description: null,
        location: 'Machin-le-chateau',
        color: null,
        mobilization_period: {
            start: '2023-05-25 00:00:00',
            end: '2023-05-29 00:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2023-05-25',
            end: '2023-05-28',
            isFullDays: true,
        },
        materials_count: 7,
        currency: 'EUR',
        total_without_global_discount: '3353.62',
        global_discount_rate: '0.0000',
        total_global_discount: '0.00',
        total_without_taxes: '3353.62',
        total_taxes: [
            {
                name: `T.V.A.`,
                is_rate: true,
                value: '20.000',
                total: '670.72',
            },
        ],
        total_with_taxes: '4024.34',
        total_replacement: '99099.98',
        is_archived: false,
        is_billable: true,
        is_confirmed: true,
        is_departure_inventory_done: false,
        departure_inventory_datetime: null,
        departure_inventory_author: null,
        is_return_inventory_started: true,
        is_return_inventory_done: false,
        return_inventory_datetime: null,
        return_inventory_author: null,
        has_missing_materials: false,
        has_deleted_materials: false,
        has_not_returned_materials: null,
        categories: [1, 2, 3],
        parks: [1, 2],
        materials: [
            {
                id: 6,
                name: `Behringer X Air XR18`,
                reference: 'XR18',
                category_id: 1,
                quantity: 2,
                unit_price: '49.99',
                degressive_rate: '3.25',
                unit_price_period: '162.47',
                total_without_discount: '324.94',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '324.94',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '49.99',
                total_replacement_price: '99.98',
                quantity_departed: null,
                quantity_returned: 2,
                quantity_returned_broken: 1,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(6),
                    degressive_rate: '3.25',
                    rental_price_period: '162.47',
                }),
            },
            {
                id: 1,
                name: `Console Yamaha CL3`,
                reference: 'CL3',
                category_id: 1,
                quantity: 2,
                unit_price: '300.00',
                degressive_rate: '3.25',
                unit_price_period: '975.00',
                total_without_discount: '1950.00',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '1950.00',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '19400.00',
                total_replacement_price: '38800.00',
                quantity_departed: null,
                quantity_returned: 1,
                quantity_returned_broken: 0,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(1),
                    degressive_rate: '1.00',
                    rental_price_period: '300.00',
                }),
            },
            {
                id: 4,
                name: `Showtec SDS-6`,
                reference: 'SDS-6-01',
                category_id: 2,
                quantity: 2,
                unit_price: '15.95',
                degressive_rate: '3.25',
                unit_price_period: '51.84',
                total_without_discount: '103.68',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '103.68',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '100.00',
                total_replacement_price: '200.00',
                quantity_departed: null,
                quantity_returned: 1,
                quantity_returned_broken: 1,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(4),
                    degressive_rate: '3.25',
                    rental_price_period: '51.84',
                }),
            },
            {
                id: 7,
                name: `Volkswagen Transporter`,
                reference: 'Transporter',
                category_id: 3,
                quantity: 1,
                unit_price: '300.00',
                degressive_rate: '3.25',
                unit_price_period: '975.00',
                total_without_discount: '975.00',
                discount_rate: '0.0000',
                total_discount: '0.00',
                total_without_taxes: '975.00',
                taxes: [
                    {
                        name: `T.V.A.`,
                        is_rate: true,
                        value: '20.000',
                    },
                ],
                unit_replacement_price: '60000.00',
                total_replacement_price: '60000.00',
                quantity_departed: null,
                quantity_returned: null,
                quantity_returned_broken: null,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(7),
                    degressive_rate: '3.00',
                    rental_price_period: '900.00',
                }),
            },
        ],
        extras: [],
        beneficiaries: [],
        technicians: [
            {
                id: 3,
                event_id: 7,
                technician_id: 2,
                position: 'Ingénieur du son',
                period: {
                    start: '2023-05-25 00:00:00',
                    end: '2023-05-29 00:00:00',
                    isFullDays: false,
                },
                technician: () => technicians.default(2),
            },
        ],
        invoices: [],
        estimates: [],
        note: null,
        author: users.default(1),
        created_at: '2022-05-29 18:00:00',
        updated_at: '2022-05-29 18:05:00',
    },
    {
        id: 8,
        reference: null,
        title: 'Japan Festival 2024',
        description: null,
        location: 'Lausanne',
        color: '#ffffff',
        mobilization_period: {
            start: '2024-06-15 12:00:00',
            end: '2024-08-10 10:00:00',
            isFullDays: false,
        },
        operation_period: {
            start: '2024-07-01 08:00:00',
            end: '2024-07-30 18:00:00',
            isFullDays: false,
        },
        materials_count: 1,
        currency: 'EUR',
        total_replacement: '1000.00',
        is_archived: false,
        is_billable: false,
        is_confirmed: false,
        is_departure_inventory_done: false,
        departure_inventory_datetime: null,
        departure_inventory_author: null,
        is_return_inventory_started: false,
        is_return_inventory_done: false,
        return_inventory_datetime: null,
        return_inventory_author: null,
        has_missing_materials: false,
        has_deleted_materials: false,
        has_not_returned_materials: null,
        categories: [1],
        parks: [1],
        materials: [
            {
                id: 6,
                name: `Behringer X Air XR18`,
                reference: 'XR18',
                category_id: 1,
                quantity: 1,
                unit_replacement_price: '1000.00',
                total_replacement_price: '1000.00',
                quantity_departed: null,
                quantity_returned: null,
                quantity_returned_broken: null,
                departure_comment: null,
                material: () => ({
                    ...materials.withContextExcerpt(6),
                    degressive_rate: '22.63',
                    rental_price_period: '1131.27',
                }),
            },
        ],
        beneficiaries: [],
        technicians: [],
        note: null,
        author: users.default(1),
        created_at: '2024-02-12 18:02:29',
        updated_at: '2024-02-14 14:22:36',
    },
];

//
// - Exports
//

/** @type {import('./@utils').FactoryReturnType} */
const asSummary = dataFactory(data, (event) => (
    pick(event, [
        'id',
        'title',
        'mobilization_period',
        'operation_period',
        'location',
    ])
));

/** @type {import('./@utils').FactoryReturnType} */
const asDefault = dataFactory(data, (event) => (
    pick(event, [
        'id',
        'title',
        'reference',
        'description',
        'mobilization_period',
        'operation_period',
        'materials_count',
        'color',
        'location',
        'is_confirmed',
        'is_billable',
        'is_archived',
        'is_departure_inventory_done',
        'is_return_inventory_done',
        'note',
        'created_at',
        'updated_at',
    ])
));

/** @type {import('./@utils').FactoryReturnType} */
const asDetails = dataFactory(data, (event) => ({
    ...omit(event, ['parks', 'categories']),
    materials: event.materials.map((material) => (
        { ...material, material: material.material() }
    )),
    technicians: event.technicians.map((technician) => (
        { ...technician, technician: technician.technician() }
    )),
}));

/** @type {import('./@utils').FactoryReturnType} */
const asBookingExcerpt = dataFactory(data, (event) => ({
    ...pick(event, [
        'id',
        'title',
        'location',
        'color',
        'mobilization_period',
        'operation_period',
        'beneficiaries',
        'technicians',
        'is_confirmed',
        'is_archived',
        'is_departure_inventory_done',
        'is_return_inventory_done',
        'has_not_returned_materials',
        'categories',
        'parks',
        'created_at',
    ]),
    entity: BookingEntity.EVENT,
    technicians: event.technicians.map((technician) => (
        { ...technician, technician: technician.technician() }
    )),
}));

/** @type {import('./@utils').FactoryReturnType} */
const asBookingSummary = dataFactory(data, (event) => ({
    ...pick(event, [
        'id',
        'title',
        'reference',
        'description',
        'location',
        'color',
        'mobilization_period',
        'operation_period',
        'materials_count',
        'beneficiaries',
        'technicians',
        'is_confirmed',
        'is_billable',
        'is_archived',
        'is_departure_inventory_done',
        'is_return_inventory_done',
        'has_not_returned_materials',
        'has_missing_materials',
        'categories',
        'parks',
        'created_at',
    ]),
    entity: BookingEntity.EVENT,
    technicians: event.technicians.map((technician) => (
        { ...technician, technician: technician.technician() }
    )),
}));

/** @type {import('./@utils').FactoryReturnType} */
const asBookingDefault = dataFactory(data, (event) => ({
    ...omit(event, ['parks', 'categories']),
    entity: BookingEntity.EVENT,
    preparer: event.preparer?.() ?? null,
    materials: event.materials.map((material) => (
        { ...material, material: material.material() }
    )),
    technicians: event.technicians.map((technician) => (
        { ...technician, technician: technician.technician() }
    )),
}));

export default {
    summary: asSummary,
    default: asDefault,
    details: asDetails,

    // - Booking.
    booking: {
        excerpt: asBookingExcerpt,
        summary: asBookingSummary,
        default: asBookingDefault,
    },
};
